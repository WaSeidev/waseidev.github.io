---
import NavLink from "@/components/layouts/NavLink.astro";
import { Icon } from "astro-icon/components";
import {
  getLangFromUrl,
  useTranslatedPath,
  useTranslations,
} from "@/i18n/utils";
import ToggleTheme from "./ToggleTheme.astro";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<nav
  class="m-2 print:hidden items-center rounded-lg bg-gray-300 p-2 md:px-4 md:py-0 md:flex dark:bg-gray-800 dark:text-gray-50"
>
  <div class="relative flex justify-center md:w-auto md:justify-start">
    <h1 class="font-normal">WaSeidev</h1>
    <button
      id="menuBtn"
      class="absolute right-2 top-0.5 cursor-pointer md:hidden"
    >
      <Icon id="iconMenu" class="h-5 w-5" name="menu" />
      <Icon id="iconClose" class="hidden h-5 w-5" name="close" />
    </button>
  </div>
  <div id="menu" class="hidden w-full flex-col md:flex md:flex-row">
    <ul
      class="flex flex-col items-center md:w-full md:flex-row md:justify-center"
    >
      <NavLink href={translatePath("/")}>{t("nav.home")}</NavLink>
      <NavLink href={translatePath("/blog")}>{t("nav.blog")}</NavLink>
      <NavLink href={translatePath("/about")}>{t("nav.about")}</NavLink>
      <NavLink href={translatePath("/projects")}>{t("nav.projects")}</NavLink>
      <NavLink href={translatePath("/cv")}>{t("nav.cv")}</NavLink>
    </ul>
    <div
      class="flex w-full items-center justify-center py-2 md:float-right md:w-auto"
    >
      <ToggleTheme />
    </div>
  </div>
</nav>
<script>
  import "@/js/menu.ts";
</script>
